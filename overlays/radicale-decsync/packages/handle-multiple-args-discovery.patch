From 65ab71a38d357ad4332a87e1b4513e645b590bfd Mon Sep 17 00:00:00 2001
From: Maciej Bator <maciek@mbator.pl>
Date: Fri, 25 Oct 2024 13:02:17 +0200
Subject: [PATCH] fixes handling multiple arguments in Storage.discovery()

Does not implement GROUPS/ support!
---
 radicale_storage_decsync/__init__.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/radicale_storage_decsync/__init__.py b/radicale_storage_decsync/__init__.py
index b5e7ba2..1b63da7 100644
--- a/radicale_storage_decsync/__init__.py
+++ b/radicale_storage_decsync/__init__.py
@@ -157,8 +157,8 @@ def __init__(self, configuration):
             self.decsync_dir = ""
 
     def discover(self, path, depth="0", child_context_manager=(
-            lambda path, href=None: contextlib.ExitStack())):
-        collections = list(super().discover(path, depth, child_context_manager))
+            lambda path, href=None: contextlib.ExitStack()),user_groups=set()):
+        collections = list(super().discover(path, depth, child_context_manager, user_groups))
         for collection in collections:
             yield collection
 

